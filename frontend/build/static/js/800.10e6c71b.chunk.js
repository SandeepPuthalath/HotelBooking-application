"use strict";(self.webpackChunkclient2=self.webpackChunkclient2||[]).push([[800],{3800:function(e,r,l){l.r(r);var a=l(1413),t=l(74165),s=l(15861),n=l(29439),o=l(79139),u=l(72791),i=l(11087),c=l(76053),d=l(55705),p=l(8007),f=l(59434),b=l(53724),m=l(6007),x=l(27319),g=l(21830),h=l.n(g),y=l(35372),v=l(80184),j=p.Ry().shape({title:p.Z_().required("please fill this field"),desc:p.Z_().required("please fill this field"),cloudinaryImgUrl:p.nK().required("please select a image").test("FILE_TYPE","Invalid file type! please choose jpg",(function(e){return e&&["image/jpeg","image/png"].includes(e.type)}))});r.default=function(){var e=(0,f.I0)(),r=(0,f.v9)((function(e){var r;return null===(r=e.adminBanner)||void 0===r?void 0:r.loading})),l=u.useState(!1),p=(0,n.Z)(l,2),g=p[0],k=p[1],w=(u.useRef(null),(0,d.TA)({initialValues:{title:"",desc:"",cloudinaryImgUrl:""},validationSchema:j,onSubmit:function(r){null!==r&&void 0!==r&&r.cloudinaryImgUrl&&(console.log(r),k(!0),e((0,b.OR)(null===r||void 0===r?void 0:r.cloudinaryImgUrl)).then((function(l){var a;k(!1),r.cloudinaryImgUrl=null===l||void 0===l||null===(a=l.payload)||void 0===a?void 0:a.secure_url,e((0,m.Hd)(r)).then(function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var l,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===r||void 0===r||!r.errors){e.next=2;break}return e.abrupt("return",h().fire("Error!",null===r||void 0===r||null===(a=r.payload)||void 0===a?void 0:a.message,"error"));case 2:return e.abrupt("return",h().fire("Banner added!",null===r||void 0===r||null===(l=r.payload)||void 0===l?void 0:l.message,"success").then((function(){return w.resetForm()})));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())})))}}));return r||g?(0,v.jsx)(x.Z,{}):(0,v.jsx)("div",{children:(0,v.jsxs)(o.Card,{className:"p-5",children:[(0,v.jsxs)("div",{className:"relative flex justify-center items-center mb-5",children:[(0,v.jsx)(o.Typography,{variant:"h4",children:"Add banner"}),(0,v.jsx)(i.rU,{to:"/admin/banners",className:"absolute left-0 text-blue-600",children:(0,v.jsx)(c.o8k,{size:30})})]}),(0,v.jsxs)("div",{className:"grid grid-cols-2",children:[(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsxs)("div",{className:"px-5 py-5",children:[w.values.cloudinaryImgUrl&&(0,v.jsx)(y.Z,{file:w.values.cloudinaryImgUrl}),!w.values.cloudinaryImgUrl&&(0,v.jsx)("img",{src:"/defaults/default-image.jpg",alt:""})]})}),(0,v.jsx)("div",{className:"col-span-1",children:(0,v.jsxs)("form",{onSubmit:w.handleSubmit,children:[(0,v.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,v.jsx)("input",(0,a.Z)((0,a.Z)({},w.getFieldProps("title")),{},{onBlur:w.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:""})),(0,v.jsx)("label",{className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Banner Title"}),w.touched.title&&w.errors.title&&(0,v.jsx)("span",{className:"text-red-600",children:w.errors.title})]}),(0,v.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,v.jsx)("textarea",(0,a.Z)((0,a.Z)({},w.getFieldProps("desc")),{},{onBlur:w.handleBlur,type:"text",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "})),(0,v.jsx)("label",{className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Description"}),w.touched.desc&&w.errors.desc&&(0,v.jsx)("span",{className:"text-red-600",children:w.errors.desc})]}),(0,v.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,v.jsx)("input",{type:"file",onChange:function(e){return w.setFieldValue("cloudinaryImgUrl",e.target.files[0])},className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:""}),(0,v.jsx)("label",{className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:left-0 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Choose a image"}),w.touched.cloudinaryImgUrl&&w.errors.cloudinaryImgUrl&&(0,v.jsx)("span",{className:"text-red-600",children:w.errors.cloudinaryImgUrl})]}),(0,v.jsx)("button",{disabled:!(!r&&!g),type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:r||g?"loading...":"submit"})]})})]})]})})}},27319:function(e,r,l){var a=l(79139),t=(l(72791),l(80184));r.Z=function(){return(0,t.jsxs)("div",{className:"bg-black bg-opacity-50  backdrop-filter backdrop-blur-sm absolute z-50 top-0 left-0 w-full h-full flex justify-center items-center",children:[(0,t.jsx)(a.Spinner,{className:"h-16 w-16 text-blue-500/10"}),";"]})}},35372:function(e,r,l){l.d(r,{Z:function(){return n}});var a=l(29439),t=l(72791),s=l(80184);function n(e){var r=e.file,l=t.useState({}),n=(0,a.Z)(l,2),o=n[0],u=n[1];if(r){var i=new FileReader;i.readAsDataURL(r),i.onload=function(){u(i.result)}}return(0,s.jsx)("img",{src:o,alt:"preview"})}}}]);
//# sourceMappingURL=800.10e6c71b.chunk.js.map