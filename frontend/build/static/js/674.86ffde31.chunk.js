"use strict";(self.webpackChunkclient2=self.webpackChunkclient2||[]).push([[674],{73674:function(e,s,n){n.r(s),n.d(s,{default:function(){return J}});var l=n(72791),a=n(57689),r=n(59434),i=n(74165),t=n(15861),d=n(55705),c=n(8007),o=n(31243),x=n(23197),m=o.Z.create({baseURL:"".concat(x.gT.BASE_URL,"/adminAuth"),headers:{"Content-Type":"application/json"}}),u=n(30456),h=n(80997),j=n(80184),p=function(){var e=(0,r.I0)(),s=(0,a.s0)(),n=c.Ry({email:c.Z_().email("Invalid email address").required("Email is required"),password:c.Z_().required("Password is required")});return(0,j.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,j.jsxs)("div",{className:"max-w-md w-full mx-4 p-6 bg-white rounded shadow-md",children:[(0,j.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Login"}),(0,j.jsx)(d.J9,{initialValues:{email:"",password:""},validationSchema:n,onSubmit:function(n,l){var a=l.setErrors,r=l.setSubmitting;console.log(n);try{var d=function(){var l=(0,t.Z)((0,i.Z)().mark((function l(){var a,r,t,d,c,o,j;return(0,i.Z)().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,m.post(x.$g,n);case 2:if(a=l.sent,console.log(a),!a.error){l.next=9;break}throw console.log("error",a.error),new Error(null===(r=a.error)||void 0===r?void 0:r.message);case 9:console.log("success",a),localStorage.setItem("authTokens",JSON.stringify(null===(t=a.data)||void 0===t?void 0:t.data)),j={adminAuthToken:JSON.stringify(null===(d=a.data)||void 0===d?void 0:d.data),admin:(0,u.Z)(null===(c=a.data)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.access)},e((0,h.o4)(j)),setTimeout((function(){s("/admin")}),1e3);case 14:case"end":return l.stop()}}),l)})));return function(){return l.apply(this,arguments)}}();d()}catch(c){a({login:c.message})}finally{r(!1)}},children:(0,j.jsxs)(d.l0,{children:[(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-bold mb-2",children:"Email"}),(0,j.jsx)(d.gN,{type:"email",id:"email",name:"email",placeholder:"Enter your email",className:"w-full p-2 border rounded focus:outline-none focus:border-blue-500"}),(0,j.jsx)(d.Bc,{name:"email",component:"div",className:"text-red-500 mt-1"})]}),(0,j.jsxs)("div",{className:"mb-4",children:[(0,j.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-bold mb-2",children:"Password"}),(0,j.jsx)(d.gN,{type:"password",id:"password",name:"password",placeholder:"Enter your password",className:"w-full p-2 border rounded focus:outline-none focus:border-blue-500"}),(0,j.jsx)(d.Bc,{name:"password",component:"div",className:"text-red-500 mt-1"})]}),(0,j.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white font-bold py-2 px-4 rounded focus:outline-none hover:bg-blue-700",children:"Login"})]})})]})})},f=n(11087),g=function(){return(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{children:"Go to applications"}),(0,j.jsx)(f.rU,{to:"users",children:"users"})]})},b=n(79139),v=n(20480),N=n(17685),y=n(61300),w=n(66555),k=n(16856),A=n(68014),S=n(56355);function Z(){var e=(0,r.I0)();return(0,j.jsxs)("div",{className:"w-full border-r-2",children:[(0,j.jsxs)("div",{className:"w-full px-5 py-4 border-b-2  border-gray-300 flex item-center justify-center md:justify-between",children:[(0,j.jsx)(S.X2f,{fontSize:30,className:"text-gray-900"}),(0,j.jsx)("h1",{className:"text-2xl uppercase font-semibold text-gray-900 hidden md:block cursor-default",children:"Book It"})]}),(0,j.jsxs)("div",{className:"flex flex-col justify-center items-center py-5",children:[(0,j.jsxs)("ul",{className:"w-full text-md text-gray-900 font-semibold ",children:[(0,j.jsx)("li",{className:"hover:bg-gray-200 px-5 py-2",children:(0,j.jsx)(f.rU,{to:"/admin",children:(0,j.jsxs)("div",{className:"flex gap-5",children:[(0,j.jsx)(v.Z,{className:"h-5 w-5"}),(0,j.jsx)("span",{className:"hidden md:block",children:"Dashborad"})]})})}),(0,j.jsx)("li",{className:"hover:bg-gray-200 px-5 py-2",children:(0,j.jsx)(f.rU,{to:"users",children:(0,j.jsxs)("div",{className:"flex gap-5",children:[(0,j.jsx)(N.Z,{className:"h-5  md:w-5"}),(0,j.jsx)("span",{className:"hidden md:block",children:"Users"})]})})}),(0,j.jsx)("li",{className:"hover:bg-gray-200 px-5 py-2",children:(0,j.jsx)(f.rU,{to:"applications",children:(0,j.jsxs)("div",{className:"flex gap-5",children:[(0,j.jsx)(y.Z,{className:"h-5  md:w-5"}),(0,j.jsx)("span",{className:"hidden md:block",children:"Applications"})]})})}),(0,j.jsx)("li",{className:"hover:bg-gray-200 px-5 py-2",children:(0,j.jsx)(f.rU,{to:"Destination",children:(0,j.jsxs)("div",{className:"flex gap-5",children:[(0,j.jsx)(k.P0t,{className:"h-5  md:w-5"}),(0,j.jsx)("span",{className:"hidden md:block",children:"Destinations"})]})})}),(0,j.jsx)("li",{className:"hover:bg-gray-200 px-5 py-2",children:(0,j.jsx)(f.rU,{to:"banners",children:(0,j.jsxs)("div",{className:"flex gap-5",children:[(0,j.jsx)(A.$aL,{className:"h-5  md:w-5"}),(0,j.jsx)("span",{className:"hidden md:block",children:"Banners"})]})})})]}),(0,j.jsx)("div",{className:"border-t-2 text-gray-900 border-gray-300 w-full font-semibold",children:(0,j.jsxs)("div",{onClick:function(){e((0,h.rK)())},className:"hover:bg-gray-200 flex gap-5 cursor-pointer px-5 py-2 mt-5",children:[(0,j.jsx)(w.Z,{className:"h-5  md:w-5"}),(0,j.jsx)("p",{className:"hidden md:block",children:" Log Out"})]})})]})]})}var W=n(3397),F=n(44970);function z(){return(0,j.jsx)(b.Navbar,{className:"rounded-none w-full px-4 py-3",children:(0,j.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-y-4 text-blue-gray-900",children:(0,j.jsxs)("div",{className:"ml-auto flex gap-1 md:mr-4",children:[(0,j.jsx)(b.IconButton,{variant:"text",color:"blue-gray",children:(0,j.jsx)(W.Z,{className:"h-4 w-4"})}),(0,j.jsx)(b.IconButton,{variant:"text",color:"blue-gray",children:(0,j.jsx)(F.Z,{className:"h-4 w-4"})})]})})})}var I=function(){return(0,j.jsxs)("div",{className:"grid grid-cols-12  bg-white",children:[(0,j.jsx)("div",{className:"h-screen col-span-2 flex justify-center md:col-span-3",children:(0,j.jsx)(Z,{})}),(0,j.jsx)("div",{className:"col-span-10 md:col-span-9",children:(0,j.jsxs)("div",{className:"grid",children:[(0,j.jsx)(z,{}),(0,j.jsx)("div",{className:"p-4 h-[36rem] overflow-auto",children:(0,j.jsx)(a.j3,{})})]})})]})},U=(0,l.lazy)((function(){return Promise.all([n.e(830),n.e(53),n.e(800)]).then(n.bind(n,3800))})),B=(0,l.lazy)((function(){return n.e(644).then(n.bind(n,50644))})),E=l.lazy((function(){return Promise.all([n.e(830),n.e(692),n.e(323)]).then(n.bind(n,82323))})),L=(0,l.lazy)((function(){return n.e(317).then(n.bind(n,83317))})),P=(0,l.lazy)((function(){return Promise.all([n.e(202),n.e(3)]).then(n.bind(n,57003))})),T=(0,l.lazy)((function(){return n.e(544).then(n.bind(n,33544))})),q=(0,l.lazy)((function(){return n.e(806).then(n.bind(n,54806))})),C=(0,l.lazy)((function(){return n.e(344).then(n.bind(n,77344))})),J=function(){var e=(0,r.v9)((function(e){var s;return JSON.parse(null===(s=e.admin)||void 0===s?void 0:s.adminAuthToken)}));return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(a.Z5,{children:[(0,j.jsx)(a.AW,{path:"/login",element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(a.Fg,{to:"/admin"}):(0,j.jsx)(p,{})}),(0,j.jsxs)(a.AW,{path:"/",element:(0,j.jsx)(I,{}),children:[(0,j.jsx)(a.AW,{index:!0,element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(g,{}):(0,j.jsx)(a.Fg,{to:"/admin/login"})}),(0,j.jsx)(a.AW,{path:"users",element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(q,{})}):(0,j.jsx)(a.Fg,{to:"/admin/login"})}),(0,j.jsx)(a.AW,{path:"applications",element:(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(C,{})})}),(0,j.jsx)(a.AW,{path:"user/:userId",element:(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(T,{})})}),(0,j.jsx)(a.AW,{path:"destination",element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(P,{})}):(0,j.jsx)(a.Fg,{to:"/admin/login"})}),(0,j.jsxs)(a.AW,{path:"banners",element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(L,{})}):(0,j.jsx)(a.Fg,{to:"/admin/login"}),children:[(0,j.jsx)(a.AW,{index:!0,element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(B,{})}):(0,j.jsx)(a.Fg,{to:"/admin/login"})}),(0,j.jsx)(a.AW,{path:":bannerId",element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(E,{})}):(0,j.jsx)(a.Fg,{to:"/admin/login"})}),(0,j.jsx)(a.AW,{path:"add-banner",element:null!==e&&void 0!==e&&e.access?(0,j.jsx)(l.Suspense,{children:(0,j.jsx)(U,{})}):(0,j.jsx)(a.Fg,{to:"/admin/login"})})]}),(0,j.jsx)(a.AW,{path:"*",element:(0,j.jsx)("h1",{children:"404 page not found"})})]})]})})}}}]);
//# sourceMappingURL=674.86ffde31.chunk.js.map